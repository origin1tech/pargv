<!DOCTYPE html><html lang="en"><head><title>index</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="index"><meta name="groc-project-path" content="README.md"><meta name="groc-github-url" content="https://github.com/origin1tech/pargv"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/origin1tech/pargv/blob/master/README.md">README.md</a></div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><h1 id="pargv">Pargv</h1>
<p>Minimal utility for parsing command line arguments in Node.</p>
<h2 id="what-is-pargv">What is Pargv</h2>
<p>Often when you&#39;re parsing arguments it&#39;s for the purpose
of running a command within your node command line utility.
Pargv makes this rather simple by assuming the specified
index provided is this primary command. All other parameters
are ether additional sub-commands or flags/options. This is
exactly the purpose of Pargv.</p>
<h2 id="install-using-npm">Install Using npm</h2>
<pre><code class="lang-sh">$ npm install pargv</code></pre>
<h2 id="configure">Configure</h2>
<p>Pargv accepts two parameters, both of which are optional. The first is a number which represents the index of the primary command. Pargv will then splice arguments before this index leaving the remaining command and options/flags.
This is likely what&#39;s desired as the initial elements in the process.argv provided by node are related to node itself and not usually needed for your utility.</p>
<p><strong>NOTE</strong> See defaults below.</p>
<p>Pargv uses a fluent or chain approach for configuration and parsing.</p>
<pre><code class="lang-js"><span class="hljs-comment">// Require Pargv.</span>
<span class="hljs-keyword">var</span> pargv = <span class="hljs-built_in">require</span>(<span class="hljs-string">'pargv'</span>);

<span class="hljs-comment">// Parse using defaults.</span>
<span class="hljs-keyword">var</span> pargs = pargv.parse();

<span class="hljs-comment">// Configure using chain then parse.</span>
<span class="hljs-keyword">var</span> pargs = pargv.configure({ <span class="hljs-comment">/* your options */</span> }).parse();</code></pre>
<h2 id="parsed-result">Parsed Result.</h2>
<p>The below shows an example of an input from your terminal and subsequently the output that would be produced for that input. The example assumes you&#39;re using the default configuration where your primary command is &quot;start&quot;.</p>
<p><strong>Example Terminal Input</strong></p>
<pre><code class="lang-sh">$ node server start --config development</code></pre>
<p><strong>Would Produce</strong></p>
<p>Using</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> pargs = {
    cmd: <span class="hljs-string">'start'</span>,
    cmds: [],
    config: <span class="hljs-string">'development'</span>,
    source: [<span class="hljs-string">'start'</span>, <span class="hljs-string">'--config'</span>, <span class="hljs-string">'development'</span>]
}</code></pre>
<p>It should be noted that in the example above you could conceivably want &quot;server&quot; to be the primary &quot;cmd&quot; property. This is easily accomplished by the following before calling &quot;parse&quot;.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> pargs = pargv.configure(<span class="hljs-number">2</span>).parse();

<span class="hljs-comment">// Which would result in:</span>

<span class="hljs-keyword">var</span> pargs = {
    cmd: <span class="hljs-string">'server'</span>,
    cmds: [<span class="hljs-string">'start'</span>],
    config: <span class="hljs-string">'development'</span>,
    source: [<span class="hljs-string">'start'</span>, <span class="hljs-string">'--config'</span>, <span class="hljs-string">'development'</span>]
}</code></pre>
<h2 id="api-methods">API Methods</h2>
<ul>
<li>.configure - accepts index of cmd and/or configuration options object.</li>
<li>.parse - parses process.argv or a supplied array argument.</li>
<li>.addParser - adds a new parser, used to cast arg to correct data type.</li>
<li>.modifyParser - modifies an existing parser.</li>
<li>.cast - calls parsers returning cast argument when truthy value is returned.</li>
<li>.getFlags - returns only the flags from either the saved parsing or passed.</li>
<li>.reset - resets the configuration back to defaults.</li>
</ul>
<h2 id="supported-data-types">Supported Data types</h2>
<p>Pargv attempts to parse known data types when processing arguments either those passed for from process.argv. The supported data types out of the box are as follows.</p>
<ul>
<li>Date</li>
<li>Number</li>
<li>Boolean</li>
<li>Key Value - &quot;key:value&quot; results in { key: &#39;value&#39; }</li>
<li>JSON - &quot;{ &quot;key&quot;: &quot;value&quot;, &quot;key2&quot;: &quot;value2&quot; }&quot; results in JavaScript Object.</li>
<li>RegExp - &quot;/^config/i&quot; results in valid RegExp.</li>
</ul>
<p>If you need some sort of additional inspection you may do so by simply adding an additional parser. If the argument processed matches the value return the cast/formated value. If fails just return false and the argument continues to the next parser for processing.</p>
<h2 id="options">Options</h2>
<p>See comments for each option.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> defaults = {

    <span class="hljs-comment">// Index of primary command.</span>
    index: <span class="hljs-number">3</span>,

    <span class="hljs-comment">// When NOT false adjusts index by -1 since arrays are 0 based.</span>
    adjustIndex: <span class="hljs-literal">undefined</span>,

    <span class="hljs-comment">// When not false assumes 1 arguments is primary command.</span>
    setCommand: <span class="hljs-literal">undefined</span>,

    <span class="hljs-comment">// When NOT false data types are cast.</span>
    castTypes: <span class="hljs-literal">undefined</span>

};</code></pre>
<h2 id="further-reading">Further Reading</h2>
<p> The purpose of this library is not to take the place of for example Yargs. Essentially it&#39;s just a lightweight way of returning an object in the manner we need for building CLI tools. Simply makes it more handy.</p>
<p> If you have suggestions or would like something added file an issue or create a PR.</p>
<h2 id="license">License</h2>
<p>See <a href="License.md">LICENSE.md</a></p></div></div></div></div></body></html>